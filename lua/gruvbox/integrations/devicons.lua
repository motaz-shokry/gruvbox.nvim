-- nvim-tree/nvim-web-devicons
local M = {}

function M.setup(palette, config, utilities, groups)
  if not config.options.enable.devicons then
    return {}
  end

  local ok, devicons = pcall(require, "nvim-web-devicons")
  if not ok then
    return {}
  end

  local hi_groups = {
    DevIconAUTHORS = { fg = palette.purple_lite },
    DevIconCodeOfConduct = { fg = palette.red_lite },
    DevIconBabelrc = { fg = palette.yellow_dark },
    DevIconEslintrc = { fg = palette.purple_lite },
    DevIconEslintIgnore = { fg = palette.purple_dark },
    DevIconCommitlintConfig = { fg = palette.aqua_dark },
    DevIconCodespell = { fg = palette.green_lite },
    DevIconBashrc = { fg = palette.green_dark },
    DevIconBashProfile = { fg = palette.green_dark },
    DevIconEnv = { fg = palette.yellow_dark },
    DevIconBazelBuild = { fg = palette.green_dark },
    DevIconBazelWorkspace = { fg = palette.green_dark },
    DevIconBuildProps = { fg = palette.blue_lite },
    DevIconBuildTargets = { fg = palette.blue_lite },
    DevIconCMakeLists = { fg = palette.fg4 },
    DevIconBrewfile = { fg = palette.red_dark },
    DevIconBunLockfile = { fg = palette.gray },
    DevIconDockerfile = { fg = palette.blue_dark },
    DevIconEditorConfig = { fg = palette.fg4 },
    DevIconConfig = { fg = palette.fg3 },
    DevIconDsStore = { fg = palette.gray },
    DevIconCheckhealth = { fg = palette.blue_lite },
    DevIconCantorrc = { fg = palette.blue_dark },
    DevIconClangConfig = { fg = palette.fg3 },
    DevIconFavicon = { fg = palette.yellow_dark },
    DevIconFreeCADConfig = { fg = palette.red_dark },
    DevIconGTK = { fg = palette.fg4 },
    DevIconGemfile = { fg = palette.red_dark },
    DevIconGitAttributes = { fg = palette.red_lite },
    DevIconGitBlameIgnore = { fg = palette.red_lite },
    DevIconGitCommit = { fg = palette.red_lite },
    DevIconGitConfig = { fg = palette.red_lite },
    DevIconGitModules = { fg = palette.red_lite },
    DevIconGitignore = { fg = palette.red_lite },
    DevIconGitlabCI = { fg = palette.orange_dark },
    DevIconGoMod = { fg = palette.blue_lite },
    DevIconGoSum = { fg = palette.blue_lite },
    DevIconGoWork = { fg = palette.blue_lite },
    DevIconGradleBuildScript = { fg = palette.blue_dark },
    DevIconGradleProperties = { fg = palette.blue_dark },
    DevIconGradleSettings = { fg = palette.blue_dark },
    DevIconGradleWrapperProperties = { fg = palette.blue_dark },
    DevIconGradleWrapperScript = { fg = palette.blue_dark },
    DevIconGroovy = { fg = palette.fg3 },
    DevIconGruntfile = { fg = palette.orange_dark },
    DevIconGulpfile = { fg = palette.red_dark },
    DevIconGvimrc = { fg = palette.green_dark },
    DevIconHypridle = { fg = palette.blue_lite },
    DevIconHyprland = { fg = palette.blue_lite },
    DevIconHyprlandd = { fg = palette.blue_lite },
    DevIconHyprlock = { fg = palette.blue_lite },
    DevIconHyprpaper = { fg = palette.blue_lite },
    DevIconHyprsunset = { fg = palette.blue_lite },
    DevIconI18nConfig = { fg = palette.purple_lite },
    DevIconIndexTheme = { fg = palette.green_dark },
    DevIconIonic = { fg = palette.blue_lite },
    DevIconJenkins = { fg = palette.red_dark },
    DevIconJustfile = { fg = palette.fg3 },
    DevIconKDEglobals = { fg = palette.blue_lite },
    DevIconKalgebrarc = { fg = palette.blue_lite },
    DevIconKdenliveLayoutsrc = { fg = palette.fg4 },
    DevIconKdenliverc = { fg = palette.fg4 },
    DevIconKiCadCache = { fg = palette.fg4 },
    DevIconKiCadFootprintTable = { fg = palette.fg4 },
    DevIconKiCadSymbolTable = { fg = palette.fg4 },
    DevIconKritadisplayrc = { fg = palette.purple_lite },
    DevIconKritarc = { fg = palette.purple_lite },
    DevIconLXDEConfigFile = { fg = palette.fg3 },
    DevIconLXQtConfigFile = { fg = palette.blue_dark },
    DevIconLicense = { fg = palette.yellow_dark },
    DevIconLuacheckrc = { fg = palette.blue_lite },
    DevIconLuaurc = { fg = palette.blue_lite },
    DevIconMailmap = { fg = palette.red_lite },
    DevIconMakefile = { fg = palette.fg3 },
    DevIconMaven = { fg = palette.red_dark },
    DevIconMixLock = { fg = palette.purple_lite },
    DevIconMpv = { fg = palette.purple_dark },
    DevIconNPMIgnore = { fg = palette.red_dark },
    DevIconNPMrc = { fg = palette.red_dark },
    DevIconNodeModules = { fg = palette.red_dark },
    DevIconNano = { fg = palette.purple_dark },
    DevIconNextConfigCjs = { fg = palette.fg4 },
    DevIconNextConfigJs = { fg = palette.fg4 },
    DevIconNextConfigTs = { fg = palette.fg4 },
    DevIconNuxtConfig = { fg = palette.aqua_dark },
    DevIconPKGBUILD = { fg = palette.blue_dark },
    DevIconSRCINFO = { fg = palette.blue_dark },
    DevIconPNPMFile = { fg = palette.orange_dark },
    DevIconPNPMLock = { fg = palette.orange_dark },
    DevIconPNPMWorkspace = { fg = palette.orange_dark },
    DevIconPackageJson = { fg = palette.red_dark },
    DevIconPackageLockJson = { fg = palette.red_dark },
    DevIconPackagesProps = { fg = palette.blue_lite },
    DevIconPlatformio = { fg = palette.orange_dark },
    DevIconPlaywrightConfig = { fg = palette.green_dark },
    DevIconPreCommitConfig = { fg = palette.orange_dark },
    DevIconPrettierConfig = { fg = palette.blue_lite },
    DevIconPrettierIgnore = { fg = palette.blue_lite },
    DevIconPrismaConfig = { fg = palette.purple_lite },
    DevIconProcfile = { fg = palette.purple_lite },
    DevIconPrusaSlicer = { fg = palette.orange_dark },
    DevIconPyTyped = { fg = palette.orange_dark },
    DevIconPyLintConfig = { fg = palette.fg3 },
    DevIconRakefile = { fg = palette.red_dark },
    DevIconReadme = { fg = palette.fg4 },
    DevIconRobotsTxt = { fg = palette.purple_lite },
    DevIconSecurity = { fg = palette.fg4 },
    DevIconSettingsJson = { fg = palette.purple_lite },
    DevIconSvelteConfig = { fg = palette.orange_dark },
    DevIconTSConfig = { fg = palette.blue_dark },
    DevIconTailwindConfig = { fg = palette.aqua_dark },
    DevIconTypoScriptSetup = { fg = palette.orange_dark },
    DevIconVLC = { fg = palette.orange_dark },
    DevIconVagrantfile = { fg = palette.blue_lite },
    DevIconVercel = { fg = palette.fg4 },
    DevIconVimrc = { fg = palette.green_dark },
    DevIconViteConfig = { fg = palette.orange_dark },
    DevIconVitestConfig = { fg = palette.yellow_dark },
    DevIconWebpack = { fg = palette.blue_dark },
    DevIconWeston = { fg = palette.orange_dark },
    DevIconXDPH = { fg = palette.aqua_lite },
    DevIconWranglerConfig = { fg = palette.orange_dark },
    DevIconXInitrc = { fg = palette.red_dark },
    DevIconXSettingsdConf = { fg = palette.red_dark },
    DevIconXauthority = { fg = palette.red_dark },
    DevIconXorgConf = { fg = palette.red_dark },
    DevIconXresources = { fg = palette.red_dark },
    DevIconXsession = { fg = palette.red_dark },
    DevIconZigObjectNotation = { fg = palette.orange_dark },
    DevIconZshenv = { fg = palette.green_dark },
    DevIconZshprofile = { fg = palette.green_dark },
    DevIconZshrc = { fg = palette.green_dark },
    DevIcon3DObjectFile = { fg = palette.fg4 },
    DevIcon3gp = { fg = palette.orange_dark },
    DevIcon7z = { fg = palette.orange_dark },
    DevIconAPL = { fg = palette.green_dark },
    DevIconASM = { fg = palette.blue_dark },
    DevIconAdaBody = { fg = palette.blue_lite },
    DevIconAdaFile = { fg = palette.blue_lite },
    DevIconAdaSpecification = { fg = palette.purple_dark },
    DevIconAdvancedAudioCoding = { fg = palette.blue_dark },
    DevIconAudioInterchangeFileFormat = { fg = palette.blue_dark },
    DevIconAi = { fg = palette.yellow_dark },
    DevIconAndroid = { fg = palette.green_dark },
    DevIconApp = { fg = palette.red_dark },
    DevIconAppleScript = { fg = palette.fg3 },
    DevIconArduino = { fg = palette.aqua_dark },
    DevIconAsc = { fg = palette.fg4 },
    DevIconAsciinema = { fg = palette.orange_dark },
    DevIconAss = { fg = palette.orange_dark },
    DevIconAstro = { fg = palette.red_lite },
    DevIconAutoCADDwg = { fg = palette.yellow_dark },
    DevIconAutoCADDxf = { fg = palette.yellow_dark },
    DevIconAvif = { fg = palette.purple_dark },
    DevIconAwk = { fg = palette.fg4 },
    DevIconAzureCli = { fg = palette.blue_dark },
    DevIconBackup = { fg = palette.fg3 },
    DevIconBash = { fg = palette.green_dark },
    DevIconBat = { fg = palette.yellow_dark },
    DevIconBazel = { fg = palette.green_dark },
    DevIconBibTeX = { fg = palette.yellow_dark },
    DevIconBicep = { fg = palette.blue_dark },
    DevIconBicepParameters = { fg = palette.purple_dark },
    DevIconBin = { fg = palette.red_dark },
    DevIconBinaryGLTF = { fg = palette.orange_dark },
    DevIconBlade = { fg = palette.red_dark },
    DevIconBlender = { fg = palette.orange_dark },
    DevIconBlueprint = { fg = palette.blue_lite },
    DevIconBmp = { fg = palette.purple_dark },
    DevIconBoundaryRepresentation = { fg = palette.yellow_dark },
    DevIconBz = { fg = palette.orange_dark },
    DevIconBz2 = { fg = palette.orange_dark },
    DevIconBz3 = { fg = palette.orange_dark },
    DevIconBzl = { fg = palette.green_dark },
    DevIconC = { fg = palette.blue_lite },
    DevIconCMake = { fg = palette.fg4 },
    DevIconCPlusPlus = { fg = palette.red_lite },
    DevIconCPlusPlusModule = { fg = palette.red_lite },
    DevIconCSharpProject = { fg = palette.purple_dark },
    DevIconCs = { fg = palette.green_dark },
    DevIconCp = { fg = palette.blue_lite },
    DevIconCpp = { fg = palette.blue_lite },
    DevIconCppm = { fg = palette.blue_lite },
    DevIconCxx = { fg = palette.blue_lite },
    DevIconCxxm = { fg = palette.blue_lite },
    DevIconCache = { fg = palette.fg2 },
    DevIconConf = { fg = palette.fg3 },
    DevIconConfiguration = { fg = palette.fg3 },
    DevIconConfigRu = { fg = palette.red_dark },
    DevIconDesktopEntry = { fg = palette.purple_dark },
    DevIconCjs = { fg = palette.yellow_dark },
    DevIconCss = { fg = palette.purple_dark },
    DevIconCsv = { fg = palette.green_dark },
    DevIconEjs = { fg = palette.yellow_dark },
    DevIconClojure = { fg = palette.green_dark },
    DevIconClojureC = { fg = palette.green_dark },
    DevIconClojureDart = { fg = palette.blue_dark },
    DevIconClojureJS = { fg = palette.blue_dark },
    DevIconEdn = { fg = palette.blue_dark },
    DevIconDb = { fg = palette.fg2 },
    DevIconDump = { fg = palette.fg2 },
    DevIconCrdownload = { fg = palette.aqua_dark },
    DevIconDownload = { fg = palette.aqua_dark },
    DevIconDll = { fg = palette.yellow_dark },
    DevIconExe = { fg = palette.red_dark },
    DevIconElf = { fg = palette.red_dark },
    DevIconDockerIgnore = { fg = palette.blue_dark },
    DevIconDoc = { fg = palette.blue_lite },
    DevIconDocx = { fg = palette.blue_lite },
    DevIconEbook = { fg = palette.yellow_dark },
    DevIconEpub = { fg = palette.yellow_dark },
    DevIconEx = { fg = palette.purple_dark },
    DevIconExs = { fg = palette.purple_dark },
    DevIconErl = { fg = palette.aqua_dark },
    DevIconElisp = { fg = palette.purple_lite },
    DevIconElm = { fg = palette.blue_lite },
    DevIconEmbeddedOpenTypeFont = { fg = palette.fg2 },
    DevIconFIGletFontControl = { fg = palette.fg2 },
    DevIconFIGletFontFormat = { fg = palette.fg2 },
    DevIconFdmdownload = { fg = palette.aqua_dark },
    DevIconFeature = { fg = palette.green_dark },
    DevIconFennel = { fg = palette.fg2 },
    DevIconFish = { fg = palette.fg2 },
    DevIconFortran = { fg = palette.purple_dark },
    DevIconFragmentShader = { fg = palette.blue_dark },
    DevIconFreeCAD = { fg = palette.red_dark },
    DevIconFreeLosslessAudioCodec = { fg = palette.blue_dark },
    DevIconFs = { fg = palette.blue_lite },
    DevIconFsharp = { fg = palette.blue_lite },
    DevIconFsi = { fg = palette.blue_lite },
    DevIconFsscript = { fg = palette.blue_lite },
    DevIconFsx = { fg = palette.blue_lite },
    DevIconFusion360 = { fg = palette.fg3 },
    DevIconGCode = { fg = palette.blue_dark },
    DevIconGDScript = { fg = palette.fg3 },
    DevIconGIMP = { fg = palette.fg2 },
    DevIconGPRBuildProject = { fg = palette.fg3 },
    DevIconGemspec = { fg = palette.red_dark },
    DevIconGentooBuild = { fg = palette.purple_dark },
    DevIconGeometryShader = { fg = palette.blue_dark },
    DevIconGif = { fg = palette.purple_lite },
    DevIconGitLogo = { fg = palette.red_lite },
    DevIconGleam = { fg = palette.purple_dark },
    DevIconGo = { fg = palette.aqua_lite },
    DevIconGodotProject = { fg = palette.fg3 },
    DevIconGodotTextResource = { fg = palette.fg3 },
    DevIconGodotTextScene = { fg = palette.fg3 },
    DevIconGradle = { fg = palette.blue_dark },
    DevIconGraphQL = { fg = palette.purple_lite },
    DevIconGv = { fg = palette.blue_dark },
    DevIconGz = { fg = palette.yellow_dark },
    DevIconH = { fg = palette.purple_lite },
    DevIconHTTP = { fg = palette.blue_dark },
    DevIconHaml = { fg = palette.fg2 },
    DevIconHaxe = { fg = palette.orange_dark },
    DevIconHbs = { fg = palette.orange_dark },
    DevIconHeex = { fg = palette.purple_dark },
    DevIconHexadecimal = { fg = palette.blue_lite },
    DevIconHh = { fg = palette.purple_lite },
    DevIconHpp = { fg = palette.purple_lite },
    DevIconHrl = { fg = palette.purple_dark },
    DevIconHs = { fg = palette.purple_lite },
    DevIconHtm = { fg = palette.red_dark },
    DevIconHtml = { fg = palette.red_lite },
    DevIconHuff = { fg = palette.blue_lite },
    DevIconHurl = { fg = palette.purple_lite },
    DevIconHxx = { fg = palette.purple_lite },
    DevIconIcal = { fg = palette.blue_dark },
    DevIconIcalendar = { fg = palette.blue_dark },
    DevIconIco = { fg = palette.yellow_dark },
    DevIconIcs = { fg = palette.blue_dark },
    DevIconIfb = { fg = palette.blue_dark },
    DevIconIfc = { fg = palette.fg3 },
    DevIconIge = { fg = palette.fg3 },
    DevIconIges = { fg = palette.fg3 },
    DevIconIgs = { fg = palette.fg3 },
    DevIconImage = { fg = palette.fg2 },
    DevIconImg = { fg = palette.fg2 },
    DevIconImportConfiguration = { fg = palette.fg2 },
    DevIconInfo = { fg = palette.fg2 },
    DevIconM3u = { fg = palette.purple_dark },
    DevIconM3u8 = { fg = palette.purple_dark },
    DevIconM4V = { fg = palette.orange_dark },
    DevIconMOV = { fg = palette.orange_dark },
    DevIconMPEG4 = { fg = palette.blue_dark },
    DevIconMPEGAudioLayerIII = { fg = palette.blue_dark },
    DevIconMagnet = { fg = palette.red_dark },
    DevIconMarkdown = { fg = palette.gray },
    DevIconMaterial = { fg = palette.purple_dark },
    DevIconMd = { fg = palette.gray },
    DevIconMd5 = { fg = palette.purple_dark },
    DevIconMdx = { fg = palette.blue_dark },
    DevIconMint = { fg = palette.green_dark },
    DevIconMjs = { fg = palette.yellow_dark },
    DevIconMkv = { fg = palette.orange_dark },
    DevIconMl = { fg = palette.orange_dark },
    DevIconMli = { fg = palette.orange_dark },
    DevIconMobi = { fg = palette.orange_dark },
    DevIconMojo = { fg = palette.red_lite },
    DevIconMonkeysAudio = { fg = palette.blue_dark },
    DevIconMotoko = { fg = palette.purple_lite },
    DevIconMp4 = { fg = palette.orange_dark },
    DevIconMpp = { fg = palette.blue_dark },
    DevIconMts = { fg = palette.blue_dark },
    DevIconMustache = { fg = palette.orange_dark },
    DevIconNfo = { fg = palette.bg_main },
    DevIconNim = { fg = palette.yellow_dark },
    DevIconNix = { fg = palette.blue_dark },
    DevIconNorg = { fg = palette.blue_dark },
    DevIconNotebook = { fg = palette.orange_dark },
    DevIconNswag = { fg = palette.green_dark },
    DevIconNushell = { fg = palette.aqua_dark },
    DevIconObjectFile = { fg = palette.red_dark },
    DevIconObjectiveC = { fg = palette.blue_dark },
    DevIconObjectiveCPlusPlus = { fg = palette.blue_dark },
    DevIconOdin = { fg = palette.blue_dark },
    DevIconOggMultiplex = { fg = palette.orange_dark },
    DevIconOggSpeexAudio = { fg = palette.blue_dark },
    DevIconOggVideo = { fg = palette.orange_dark },
    DevIconOggVorbis = { fg = palette.blue_dark },
    DevIconOpenGLShadingLanguage = { fg = palette.blue_dark },
    DevIconOpenSCAD = { fg = palette.yellow_dark },
    DevIconOpenTypeFont = { fg = palette.bg_main },
    DevIconOpusAudioFile = { fg = palette.blue_dark },
    DevIconOrgMode = { fg = palette.aqua_dark },
    DevIconOut = { fg = palette.red_dark },
    DevIconPackedResource = { fg = palette.bg4 },
    DevIconPart = { fg = palette.green_dark },
    DevIconPatch = { fg = palette.gray },
    DevIconPdf = { fg = palette.red_dark },
    DevIconPhp = { fg = palette.purple_dark },
    DevIconPl = { fg = palette.blue_dark },
    DevIconPls = { fg = palette.purple_dark },
    DevIconPm = { fg = palette.blue_dark },
    DevIconPng = { fg = palette.purple_dark },
    DevIconPp = { fg = palette.orange_dark },
    DevIconPpt = { fg = palette.red_dark },
    DevIconPptx = { fg = palette.red_dark },
    DevIconPrisma = { fg = palette.purple_lite },
    DevIconProlog = { fg = palette.orange_dark },
    DevIconPsManifestfile = { fg = palette.purple_dark },
    DevIconPsScriptModulefile = { fg = palette.purple_dark },
    DevIconPsScriptfile = { fg = palette.blue_dark },
    DevIconPsb = { fg = palette.blue_dark },
    DevIconPsd = { fg = palette.blue_dark },
    DevIconPub = { fg = palette.bg_second },
    DevIconPulseCodeModulation = { fg = palette.blue_dark },
    DevIconPxd = { fg = palette.blue_dark },
    DevIconPxi = { fg = palette.blue_dark },
    DevIconPy = { fg = palette.orange_dark },
    DevIconPyc = { fg = palette.bg_main },
    DevIconPyd = { fg = palette.bg_main },
    DevIconPyi = { fg = palette.orange_dark },
    DevIconPyo = { fg = palette.bg_main },
    DevIconPyw = { fg = palette.blue_dark },
    DevIconPyx = { fg = palette.blue_dark },
    DevIconQt = { fg = palette.green_dark },
    DevIconQuery = { fg = palette.yellow_dark },
    DevIconR = { fg = palette.blue_dark },
    DevIconRar = { fg = palette.orange_dark },
    DevIconRasi = { fg = palette.yellow_dark },
    DevIconRazorPage = { fg = palette.purple_lite },
    DevIconRb = { fg = palette.red_dark },
    DevIconReScript = { fg = palette.red_dark },
    DevIconReScriptInterface = { fg = palette.red_lite },
    DevIconRlib = { fg = palette.orange_dark },
    DevIconRmd = { fg = palette.blue_dark },
    DevIconRproj = { fg = palette.aqua_dark },
    DevIconRs = { fg = palette.orange_dark },
    DevIconRss = { fg = palette.orange_dark },
    DevIconSass = { fg = palette.red_lite },
    DevIconScala = { fg = palette.red_dark },
    DevIconScalaScript = { fg = palette.red_dark },
    DevIconScheme = { fg = palette.bg_main },
    DevIconScss = { fg = palette.red_lite },
    DevIconSh = { fg = palette.bg_second },
    DevIconSha1 = { fg = palette.purple_dark },
    DevIconSha224 = { fg = palette.purple_dark },
    DevIconSha256 = { fg = palette.purple_dark },
    DevIconSha384 = { fg = palette.purple_dark },
    DevIconSha512 = { fg = palette.purple_dark },
    DevIconSharedObject = { fg = palette.gray },
    DevIconSig = { fg = palette.orange_dark },
    DevIconSignature = { fg = palette.orange_dark },
    DevIconSketchUp = { fg = palette.yellow_dark },
    DevIconSlim = { fg = palette.red_dark },
    DevIconSln = { fg = palette.purple_lite },
    DevIconSlnx = { fg = palette.purple_lite },
    DevIconSml = { fg = palette.orange_dark },
    DevIconSolidWorksAsm = { fg = palette.yellow_dark },
    DevIconSolidWorksPrt = { fg = palette.yellow_dark },
    DevIconSolidity = { fg = palette.blue_dark },
    DevIconSolveSpace = { fg = palette.yellow_dark },
    DevIconSpecJs = { fg = palette.yellow_dark },
    DevIconSpecTs = { fg = palette.blue_dark },
    DevIconSql = { fg = palette.bg_second },
    DevIconSrt = { fg = palette.orange_dark },
    DevIconSsa = { fg = palette.orange_dark },
    DevIconStaticLibraryArchive = { fg = palette.gray },
    DevIconSte = { fg = palette.yellow_dark },
    DevIconStep = { fg = palette.yellow_dark },
    DevIconStorybookJavaScript = { fg = palette.red_lite },
    DevIconStorybookJsx = { fg = palette.red_lite },
    DevIconStorybookMjs = { fg = palette.red_lite },
    DevIconStorybookSvelte = { fg = palette.orange_dark },
    DevIconStorybookTsx = { fg = palette.red_lite },
    DevIconStorybookTypeScript = { fg = palette.red_lite },
    DevIconStorybookVue = { fg = palette.red_lite },
    DevIconStp = { fg = palette.yellow_dark },
    DevIconStyl = { fg = palette.green_dark },
    DevIconSub = { fg = palette.orange_dark },
    DevIconSublime = { fg = palette.orange_dark },
    DevIconSuo = { fg = palette.purple_lite },
    DevIconSvelte = { fg = palette.orange_dark },
    DevIconSvg = { fg = palette.orange_dark },
    DevIconSvgz = { fg = palette.orange_dark },
    DevIconSwift = { fg = palette.orange_dark },
    DevIconSystemVerilog = { fg = palette.green_dark },
    DevIconTFVars = { fg = palette.purple_lite },
    DevIconTcl = { fg = palette.blue_dark },
    DevIconTempl = { fg = palette.yellow_dark },
    DevIconTemplate = { fg = palette.yellow_dark },
    DevIconTerminal = { fg = palette.green_dark },
    DevIconTerraform = { fg = palette.purple_lite },
    DevIconTestJs = { fg = palette.yellow_dark },
    DevIconTestTs = { fg = palette.blue_dark },
    DevIconTex = { fg = palette.green_dark },
    DevIconTgz = { fg = palette.orange_dark },
    DevIconThunderbird = { fg = palette.blue_dark },
    DevIconTmux = { fg = palette.green_dark },
    DevIconToml = { fg = palette.red_dark },
    DevIconTor = { fg = palette.blue_dark },
    DevIconTorrent = { fg = palette.aqua_dark },
    DevIconTrueTypeFont = { fg = palette.bg_main },
    DevIconTsx = { fg = palette.blue_lite },
    DevIconTwig = { fg = palette.green_dark },
    DevIconTxt = { fg = palette.green_dark },
    DevIconTxz = { fg = palette.orange_dark },
    DevIconTypeScript = { fg = palette.blue_dark },
    DevIconTypeScriptDeclaration = { fg = palette.orange_dark },
    DevIconTypeScriptReactSpec = { fg = palette.blue_lite },
    DevIconTypeScriptReactTest = { fg = palette.blue_lite },
    DevIconTypoScript = { fg = palette.orange_dark },
    DevIconTypoScriptConfig = { fg = palette.orange_dark },
    DevIconTypst = { fg = palette.aqua_dark },
    DevIconUI = { fg = palette.blue_lite },
    DevIconVHDL = { fg = palette.green_dark },
    DevIconVRML = { fg = palette.gray },
    DevIconVala = { fg = palette.purple_dark },
    DevIconVerilog = { fg = palette.green_dark },
    DevIconVertexShader = { fg = palette.blue_dark },
    DevIconVim = { fg = palette.green_dark },
    DevIconVlang = { fg = palette.blue_dark },
    DevIconVsix = { fg = palette.purple_lite },
    DevIconVue = { fg = palette.green_dark },
    DevIconWasm = { fg = palette.purple_lite },
    DevIconWavPack = { fg = palette.blue_dark },
    DevIconWavPackCorrection = { fg = palette.blue_dark },
    DevIconWaveformAudioFile = { fg = palette.blue_dark },
    DevIconWebOpenFontFormat = { fg = palette.bg_main },
    DevIconWebm = { fg = palette.orange_dark },
    DevIconWebmanifest = { fg = palette.yellow_dark },
    DevIconWebp = { fg = palette.purple_dark },
    DevIconWindowsMediaAudio = { fg = palette.blue_dark },
    DevIconWindowsMediaVideo = { fg = palette.orange_dark },
    DevIconXaml = { fg = palette.purple_lite },
    DevIconXcLocalization = { fg = palette.blue_dark },
    DevIconXcPlayground = { fg = palette.orange_dark },
    DevIconXls = { fg = palette.green_dark },
    DevIconXlsx = { fg = palette.green_dark },
    DevIconXml = { fg = palette.orange_dark },
    DevIconXpi = { fg = palette.red_dark },
    DevIconXslt = { fg = palette.blue_dark },
    DevIconXul = { fg = palette.orange_dark },
    DevIconXz = { fg = palette.orange_dark },
    DevIconYaml = { fg = palette.bg4 },
    DevIconYml = { fg = palette.bg4 },
    DevIconZig = { fg = palette.orange_dark },
    DevIconZip = { fg = palette.orange_dark },
    DevIconZsh = { fg = palette.green_lite },
    DevIconZst = { fg = palette.orange_dark },
    DevIconapk = { fg = palette.green_dark },
    DevIconcuda = { fg = palette.green_dark },
    DevIconcudah = { fg = palette.purple_dark },
    DevIconsbt = { fg = palette.red_dark },
    DevIconAOSC = { fg = palette.red_dark },
    DevIconAlmalinux = { fg = palette.red_lite },
    DevIconAlpine = { fg = palette.blue_dark },
    DevIconApple = { fg = palette.gray },
    DevIconArch = { fg = palette.blue_dark },
    DevIconArchcraft = { fg = palette.aqua_dark },
    DevIconArchlabs = { fg = palette.bg4 },
    DevIconArcoLinux = { fg = palette.blue_dark },
    DevIconArtix = { fg = palette.blue_dark },
    DevIconBigLinux = { fg = palette.blue_dark },
    DevIconCentos = { fg = palette.purple_dark },
    DevIconCrystalLinux = { fg = palette.purple_lite },
    DevIconDebian = { fg = palette.red_dark },
    DevIconDeepin = { fg = palette.blue_dark },
    DevIconDevuan = { fg = palette.bg4 },
    DevIconElementary = { fg = palette.blue_dark },
    DevIconEndeavour = { fg = palette.purple_dark },
    DevIconFedora = { fg = palette.blue_dark },
    DevIconFreeBSD = { fg = palette.red_lite },
    DevIconGarudaLinux = { fg = palette.blue_dark },
    DevIconGentoo = { fg = palette.gray },
    DevIconGuix = { fg = palette.yellow_dark },
    DevIconHyperbolaGNULinuxLibre = { fg = palette.bg_second },
    DevIconIllumos = { fg = palette.red_lite },
    DevIconKDEneon = { fg = palette.aqua_dark },
    DevIconKali = { fg = palette.blue_dark },
    DevIconKubuntu = { fg = palette.blue_dark },
    DevIconLXLE = { fg = palette.bg_second },
    DevIconLeap = { fg = palette.yellow_dark },
    DevIconLinux = { fg = palette.bg_main },
    DevIconLocOS = { fg = palette.orange_dark },
    DevIconMXLinux = { fg = palette.bg_main },
    DevIconMageia = { fg = palette.blue_dark },
    DevIconManjaro = { fg = palette.green_dark },
    DevIconNixOS = { fg = palette.blue_dark },
    DevIconNobaraLinux = { fg = palette.bg_main },
    DevIconOpenBSD = { fg = palette.yellow_dark },
    DevIconParabolaGNULinuxLibre = { fg = palette.purple_dark },
    DevIconParrot = { fg = palette.aqua_dark },
    DevIconPop_OS = { fg = palette.aqua_dark },
    DevIconPuppyLinux = { fg = palette.gray },
    DevIconQubesOS = { fg = palette.blue_dark },
    DevIconRaspberryPiOS = { fg = palette.red_lite },
    DevIconRedhat = { fg = palette.red_lite },
    DevIconRockyLinux = { fg = palette.green_dark },
    DevIconSabayon = { fg = palette.bg_second },
    DevIconSlackware = { fg = palette.blue_dark },
    DevIconSolus = { fg = palette.purple_dark },
    DevIconTails = { fg = palette.purple_dark },
    DevIconTrisquelGNULinux = { fg = palette.blue_dark },
    DevIconTumbleweed = { fg = palette.aqua_dark },
    DevIconUbuntu = { fg = palette.orange_dark },
    DevIconVanillaOS = { fg = palette.yellow_dark },
    DevIconVoid = { fg = palette.green_dark },
    DevIconWindows = { fg = palette.blue_dark },
    DevIconXeroLinux = { fg = palette.purple_dark },
    DevIconZorin = { fg = palette.blue_dark },
    DevIconopenSUSE = { fg = palette.green_dark },
    DevIconpostmarketOS = { fg = palette.green_dark },
    DevIconBudgie = { fg = palette.gray },
    DevIconCinnamon = { fg = palette.orange_dark },
    DevIconGNOME = { fg = palette.bg_main },
    DevIconKDEPlasma = { fg = palette.blue_dark },
    DevIconLXDE = { fg = palette.bg_second },
    DevIconLXQt = { fg = palette.blue_dark },
    DevIconMATE = { fg = palette.green_dark },
    DevIconXfce = { fg = palette.blue_dark },
    DevIconBSPWM = { fg = palette.fg4 },
    DevIconEnlightenment = { fg = palette.bg_main },
    DevIconFluxbox = { fg = palette.bg_second },
    DevIconJWM = { fg = palette.blue_dark },
    DevIconQtile = { fg = palette.bg_main },
    DevIconSway = { fg = palette.green_dark },
    DevIconawesome = { fg = palette.bg4 },
    DevIcondwm = { fg = palette.blue_dark },
    DevIconi3 = { fg = palette.fg4 },
    DevIconriver = { fg = palette.bg_main },
    DevIconxmonad = { fg = palette.red_dark },
  }

  local icon_palette_map = {}

  for hi_group, attrs in pairs(hi_groups) do
    local icon_name = hi_group:match("^DevIcon(.+)$")
    if icon_name then
      local color_value = attrs.fg
      icon_palette_map[icon_name] = color_value
    end
  end

  local all_icons = devicons.get_icons()
  local overrides = {}

  for ext, data in pairs(all_icons) do
    local assigned_color = icon_palette_map[data.name] or palette.fg3

    overrides[ext] = {
      color = assigned_color,
      icon = data.icon,
      name = data.name
    }
  end

  devicons.setup({
    override = overrides,
    color_icons = true,
    default = true,
    variant = vim.o.background,
  })

  return {}
end

return M
